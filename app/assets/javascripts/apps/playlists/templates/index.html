<div class="row">
  <div class="col-md-3 sidebar">
    <div>
      <h2>
        Playlists
        <span class="pull-right">
          <a ng-href="{{users_url}}"
            ><button
              class="btn btn-primary glyphicon glyphicon-arrow-left"
              title="Back"
            ></button></a>
        </span>
      </h2>
    </div>
    <user-info user="user"></user-info>
  </div>
  <div class="col-md-9 col-md-offset-3 main">
    <notices notices="notices"></notices>
    <div class="row">
      <div class="pull-left">
        <div class="form-group">
          <form class="form-search">
            <input
              type="text"
              class="search-query"
              placeholder="Search..."
              ng-model="filterBy.title"
            />
          </form>
        </div>
      </div>
      <div class="pull-right">
        <button
          class="btn btn-lg btn-success"
          ng-class="{disabled: importing}"
          ng-click="refreshPlaylists()"
        >Refresh Playlists</button>
      </div>
    </div>
    <div class="row">
      <div
        tasty-table
        bind-resource-callback="getResource"
        bind-theme="theme"
        bind-init="init"
        bind-filters="filterBy"
        bind-reload="reloadCallback"
      >
        <table class="table table-striped table-condensed">
          <thead>
            <th>ID</th>
            <th>Title</th>
            <th class="text-center">Available Video Count</th>
            <th class="text-center">Imported Video Count</th>
            <th>&nbsp;</th>
          </thead>
          <tbody>
            <tr ng-repeat="playlist in rows">
              <td>{{ playlist.id }}</td>
              <td>{{ playlist.api_title }}</td>
              <td class="text-center">{{ playlist.api_item_count | number:0 }}</td>
              <td class="text-center">{{ playlist.video_count | number:0 }}</td>
              <td class="text-right">
                <button
                  title="Refresh Videos"
                  type="button"
                  class="btn btn-success glyphicon glyphicon-refresh"
                  ng-class="{disabled: importingVideos[playlist.id]}"
                  ng-click="refreshVideos(playlist)"
                ></button>
                <button
                  title="Videos"
                  type="button"
                  class="btn btn-default glyphicon glyphicon-film"
                  ng-click="goToPlaylistItems(playlist)"
                ></button>
              </td>
            </tr>
          </tbody>
        </table>
        <div tasty-pagination></div>
      </div>
    </div>
  </div>
</div>
