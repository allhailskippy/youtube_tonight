//= require_self
//= require_tree ./controllers
//= require_tree ./services
/**
 * @ngdoc overview
 * @name User App
 *
 * @description The UserApp is used for viewing users.
 * This file is where the routes are defined for this app
 */
(function(){
'use strict';
var routesConfig = function($locationProvider, $routeProvider) {
  $routeProvider.
  when('/index', {
    controller: 'IndexCtrl',
    templateUrl: '<%= asset_path("apps/users/templates/index.html") %>',
    resolve: {
      currentUser: function() {
        console.log(<%= Authorization.current_user.as_json(User.as_json_hash).to_json.html_safe %>);
        return <%= Authorization.current_user.as_json(User.as_json_hash).to_json.html_safe %>;
      }
    }
  }).
  when('/:id/edit', {
    controller: 'FormCtrl',
    templateUrl: '<%= asset_path("apps/users/templates/form.html") %>',
    resolve: {
      currentUser: function() {
        console.log(<%= Authorization.current_user.as_json(User.as_json_hash).to_json.html_safe %>);
        return <%= Authorization.current_user.as_json(User.as_json_hash).to_json.html_safe %>;
      }
    }
  }).
  otherwise({
    redirectTo: '/index'
  });
};
routesConfig.$inject = ['$locationProvider', '$routeProvider'];

angular.module('UserApp', ['shared', 'ngRoute', 'ngResource', 'ng-rails-csrf', 'ui.bootstrap-select'])
       .config(routesConfig);
})();
